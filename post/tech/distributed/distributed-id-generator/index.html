<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="讨论分布式Id的方案，围绕雪花Id和其变体，如美团的Leaf，百度的UidGenerator等方案的一些思考"><meta name=keywords content="分布式id,雪花Id,SnowFlake,Leaf,UidGenerator"><title>分布式 ID ：雪花算法变体探讨</title>
<link rel=canonical href=https://www.qisihub.cn/post/tech/distributed/distributed-id-generator/><link rel=stylesheet href=/scss/style.min.7657e19dfcc00117e827b40bd92bcea286037ffa4a33e95fc533eaea79d078f9.css><meta property='og:title' content="分布式 ID ：雪花算法变体探讨"><meta property='og:description' content="讨论分布式Id的方案，围绕雪花Id和其变体，如美团的Leaf，百度的UidGenerator等方案的一些思考"><meta property='og:url' content='https://www.qisihub.cn/post/tech/distributed/distributed-id-generator/'><meta property='og:site_name' content='起司的主页'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='分布式'><meta property='article:published_time' content='2025-11-26T13:21:02+08:00'><meta property='article:modified_time' content='2025-11-26T08:08:29+00:00'><meta name=twitter:title content="分布式 ID ：雪花算法变体探讨"><meta name=twitter:description content="讨论分布式Id的方案，围绕雪花Id和其变体，如美团的Leaf，百度的UidGenerator等方案的一些思考"><link rel=alternate type=application/json href=https://www.qisihub.cn/post/tech/distributed/distributed-id-generator/index.json><link rel=alternate type=application/rss+xml href=https://www.qisihub.cn/post/tech/distributed/distributed-id-generator/index.xml><link rel="shortcut icon" href=/favicon.ico><script async src="https://www.googletagmanager.com/gtag/js?id=G-8NDCRP4S7S"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-8NDCRP4S7S")}</script><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><span id=top></span>
<script>(function(){const t=location.hostname.toLowerCase(),e="https://log-cf.qisihub.cn/push";window.TFO_CFG={endpoint:e,useLoki:!0,app:"qisi-pages-site",release:"v1.0.0",sampleRate:1,sameHostOnly:!0,ignorePatterns:[/google-analytics\.com/i,/googletagmanager\.com/i,/doubleclick\.net/i,/localhost/i,/127\.0\.0\.1/,/\.local$/i]}})()</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_huf89847f5290877d03a6309f0caaa56f1_43584_300x0_resize_box_3.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>起司的主页</a></h1><h2 class=site-description></h2></div></header><ol class=menu-social><li><a href=https://github.com/qisiii target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=/index.xml target=_blank title=rss rel=me><svg class="icon icon-tabler icon-tabler-rss" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="5" cy="19" r="1"/><path d="M4 4a16 16 0 0116 16"/><path d="M4 11a9 9 0 019 9"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>首页|Home</span></a></li><li><a href=/post/friends target=_blank><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-heart-handshake"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M19.5 12.572 12 20l-7.5-7.428A5 5 0 1112 6.006a5 5 0 117.5 6.572"/><path d="M12 6 8.707 9.293a1 1 0 000 1.414l.543.543c.69.69 1.81.69 2.5.0l1-1a3.182 3.182.0 014.5.0l2.25 2.25"/><path d="M12.5 15.5l2 2"/><path d="M15 13l2 2"/></svg>
<span>友链|Friends</span></a></li><li><a href=/post/search target=_blank><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>搜索|Search</span></a></li><li><a href=/leetcode target=_blank><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-leetcode"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 13h7.5"/><path d="M9.424 7.268l4.999-4.999"/><path d="M16.633 16.644l-2.402 2.415a3.189 3.189.0 01-4.524.0l-3.77-3.787a3.223 3.223.0 010-4.544l3.77-3.787a3.189 3.189.0 014.524.0l2.302 2.313"/></svg>
<span>力扣|Leetcode</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>暗色模式</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#一核心痛点时钟回拨的解决方案对比>一、核心痛点：时钟回拨的解决方案对比</a><ol><li><a href=#1-美团-leaf-snowflake等待追平--异常熔断>1. 美团 Leaf-snowflake：等待追平 + 异常熔断</a></li><li><a href=#2百度-uidgenerator两种模式适配不同场景>2.百度 UidGenerator：两种模式适配不同场景</a></li></ol></li><li><a href=#二关键细节workerid-的分配与复用>二、关键细节：WorkerId 的分配与复用</a></li><li><a href=#三并发优化多线程安全与性能提升>三、并发优化：多线程安全与性能提升</a><ol><li><a href=#1-美团-leafsynchronized-关键字保证原子性>1. 美团 Leaf：synchronized 关键字保证原子性</a></li><li><a href=#2-百度-uidgeneratorpaddedatomiclong-避免伪共享>2. 百度 UidGenerator：PaddedAtomicLong 避免伪共享</a></li></ol></li><li><a href=#四架构选型中心化与去中心化的取舍>四、架构选型：中心化与去中心化的取舍</a></li><li><a href=#五网络与部署>五、网络与部署</a></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/tech/>技术人生</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/post/tech/distributed/distributed-id-generator/>分布式 ID ：雪花算法变体探讨</a></h2><h3 class=article-subtitle>讨论分布式Id的方案，围绕雪花Id和其变体，如美团的Leaf，百度的UidGenerator等方案的一些思考</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>2025-11-26</time></div><div><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-hourglass-empty"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 20v-2a6 6 0 1112 0v2a1 1 0 01-1 1H7a1 1 0 01-1-1z"/><path d="M6 4v2a6 6 0 1012 0V4a1 1 0 00-1-1H7A1 1 0 006 4z"/></svg>
<time class=article-time--reading>5分钟</time></div><svg class="icon icon-tabler icon-tabler-tag" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11 3l9 9a1.5 1.5.0 010 2l-6 6a1.5 1.5.0 01-2 0L3 11V7a4 4 0 014-4h4"/><circle cx="9" cy="9" r="2"/></svg><div class=artile-time-reading><a href=https://www.qisihub.cn/tags/%E5%88%86%E5%B8%83%E5%BC%8F>#分布式</a></div></footer></div></header><section class=article-content><p>一般说起分布式id，就不得不提到雪花Id-SnowflakeId。</p><p>作为一种去中心，具有递增性质，且不会暴露真实业务量级的方案，它将64位二进制划分成1+41时间戳+10机器id+12序列号，不得不赞叹其大道至简。</p><h2 id=一核心痛点时钟回拨的解决方案对比>一、核心痛点：时钟回拨的解决方案对比</h2><p>背过八股文的我们都知道，雪花ID的最大问题就在于时钟回拨，有可能导致生成的id重复，这对于大型公司自然是不可以接受的。因此，像是美团、百度、滴滴就开源了自己的分布式id方案，本文主要讨论雪花id变体和其相关的问题，对于号段模式不做讨论。</p><h3 id=1-美团-leaf-snowflake等待追平--异常熔断>1. 美团 Leaf-snowflake：等待追平 + 异常熔断</h3><p>在美团开源的方案 Leaf-snowflake中，对于时钟问题的建议处理方案是，记录最后生成id的时间，每次生成时先进行比较，如果相差不大，那么sleep到新时间之后再生成；否则，报警并下掉该节点。下面的代码是leaf<a class=link href=https://github.com/Meituan-Dianping/Leaf target=_blank rel=noopener>项目</a>中的源码。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>        if (timestamp &lt; lastTimestamp) {
</span></span><span class=line><span class=cl>            long offset = lastTimestamp - timestamp;
</span></span><span class=line><span class=cl>            if (offset &lt;= 5) {
</span></span><span class=line><span class=cl>                try {
</span></span><span class=line><span class=cl>                    wait(offset &lt;&lt; 1);
</span></span><span class=line><span class=cl>                    timestamp = timeGen();
</span></span><span class=line><span class=cl>                    if (timestamp &lt; lastTimestamp) {
</span></span><span class=line><span class=cl>                        return new Result(-1, Status.EXCEPTION);
</span></span><span class=line><span class=cl>                    }
</span></span><span class=line><span class=cl>                } catch (InterruptedException e) {
</span></span><span class=line><span class=cl>                    LOGGER.error(&#34;wait interrupted&#34;);
</span></span><span class=line><span class=cl>                    return new Result(-2, Status.EXCEPTION);
</span></span><span class=line><span class=cl>                }
</span></span><span class=line><span class=cl>            } else {
</span></span><span class=line><span class=cl>                return new Result(-3, Status.EXCEPTION);
</span></span><span class=line><span class=cl>            }
</span></span><span class=line><span class=cl>        }
</span></span><span class=line><span class=cl>        if (lastTimestamp == timestamp) {
</span></span><span class=line><span class=cl>            sequence = (sequence + 1) &amp; sequenceMask;
</span></span><span class=line><span class=cl>            if (sequence == 0) {
</span></span><span class=line><span class=cl>                //seq 为0的时候表示是下一毫秒时间开始对seq做随机
</span></span><span class=line><span class=cl>                sequence = RANDOM.nextInt(100);
</span></span><span class=line><span class=cl>                timestamp = tilNextMillis(lastTimestamp);
</span></span><span class=line><span class=cl>            }
</span></span><span class=line><span class=cl>        } else {
</span></span><span class=line><span class=cl>            //如果是新的ms开始
</span></span><span class=line><span class=cl>            sequence = RANDOM.nextInt(100);
</span></span><span class=line><span class=cl>        }
</span></span></code></pre></div><p>其实，除了等待追平之外，还可以优先复用lastTimestamp中未生成完的序列id。这样当发生时钟回拨时，先判断上次的序列是否达到上限，没有的话依然使用上次的时间戳继续生成。直到达到上限后再去进行追平或报警。可能差别不是很大，但我个人倾向于可以先用再追平。</p><h3 id=2百度-uidgenerator两种模式适配不同场景>2.百度 UidGenerator：两种模式适配不同场景</h3><p>在百度的方案UidGenerator中，</p><p>DefaultUidGenerator的思路是等待时间追平后再生成id，和美团类似。</p><p>CachedUidGenerator则是通过预支未来的时间，其核心是启动时取当前时间的秒级时间戳，之后通过long的cas自增操作进行+1（不依赖系统的时间）&ndash;类比单机从1开始，然后做自增操作。不过这里的起始值是具有时间属性的。而为了存储预支的时间，设计了两个buffer来维护。一个用于存储id，一个用于判断是否可以存储Id。</p><p>CachedUidGenerator 将「时间依赖」转移到启动阶段，运行时完全脱离系统时间，既保证了趋势递增，又从根源上解决了时钟回拨导致的 ID 重复问题。</p><h2 id=二关键细节workerid-的分配与复用>二、关键细节：WorkerId 的分配与复用</h2><p>百度的UIdGenerator为了保证workId的自增和统一管理，默认是利用db来进行存储（当然也可以通过其他的方式，实现WorkerIdAssigner接口），使用自增的id主键来作为workId，目前是不会重复使用workId，因为没有在外部记录预支出的最大的时间，如果使用原来的workId，那由于不知道预支出到何时，因此无法投入使用。不过这点，我感觉在表中新增一个字段用来存储已经分配的最大时间，那么在等到该时间追平后好像就可以使用了？</p><p>而美团的则通过zk注册顺序节点来保证，并且考虑到了在zk节点中存储该节点的最后生成时间，这样可以在节点重启时继续使用而不用分配新的workId。且为了考虑效率，生成时间只在 启动的时候进行校验，内部真实生成id的时候还是比较的内存，而不是从zk现读取。</p><h2 id=三并发优化多线程安全与性能提升>三、并发优化：多线程安全与性能提升</h2><h3 id=1-美团-leafsynchronized-关键字保证原子性>1. 美团 Leaf：synchronized 关键字保证原子性</h3><p>Leaf 直接使用<code>synchronized</code>修饰生成 ID 的方法，确保同一时间只有一个线程操作<code>timestamp</code>和<code>sequence</code>：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>public synchronized Result get(String key) {
</span></span><span class=line><span class=cl>    // ID生成逻辑...
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><h3 id=2-百度-uidgeneratorpaddedatomiclong-避免伪共享>2. 百度 UidGenerator：PaddedAtomicLong 避免伪共享</h3><p>UidGenerator 使用自定义的<code>PaddedAtomicLong</code>替代原生<code>AtomicLong</code>，核心解决 CPU 伪共享问题：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>public</span> <span class=k>class</span> <span class=n>PaddedAtomicLong</span> <span class=k>extends</span> <span class=n>AtomicLong</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>private</span> <span class=k>static</span> <span class=n>final</span> <span class=n>long</span> <span class=n>serialVersionUID</span> <span class=o>=</span> <span class=o>-</span><span class=mi>3415778863941386253</span><span class=n>L</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=o>//</span> <span class=n>CPU缓存行通常为64字节</span><span class=err>，通过填充</span><span class=mi>6</span><span class=err>个</span><span class=n>long</span><span class=err>（</span><span class=mi>48</span><span class=err>字节）避免伪共享</span>
</span></span><span class=line><span class=cl>    <span class=n>public</span> <span class=n>volatile</span> <span class=n>long</span> <span class=n>p1</span><span class=p>,</span> <span class=n>p2</span><span class=p>,</span> <span class=n>p3</span><span class=p>,</span> <span class=n>p4</span><span class=p>,</span> <span class=n>p5</span><span class=p>,</span> <span class=n>p6</span> <span class=o>=</span> <span class=mi>7</span><span class=n>L</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p><strong>伪共享问题</strong>：多个原子变量若处于同一 CPU 缓存行，一个变量的修改会导致整个缓存行失效，频繁触发缓存同步，降低性能；</p><p><strong>优化逻辑</strong>：通过填充 6 个 long 变量（共 48 字节），让<code>PaddedAtomicLong</code>的核心值独占一个 64 字节缓存行，避免缓存失效带来的性能损耗。</p><p><strong>优势</strong>：无锁设计，CAS 操作保证原子性，支持每秒百万级 ID 生成，适合超高并发场景。</p><h2 id=四架构选型中心化与去中心化的取舍>四、架构选型：中心化与去中心化的取舍</h2><p>对于雪花id的组成部分时间戳+workId+序列化三部分而言，其中workId部分如果完成由人工配置，那就是去中心化的，但是如果依赖于zk或者db等方式分配，那么该方案就有一定的中心化因素。且美团的leaf为了监控每个节点的状态，以及节点的上下线，整体依赖zk要更多。不过leaf和UIdGenerator尽管依赖的核心挂掉，那么在已经生成了workId的节点就不会受到影响。</p><h2 id=五网络与部署>五、网络与部署</h2><p>由于id本身的生成非常快，那么耗时大部分就是网络耗时。不过这个各个语言都有较成熟的代码了，如果是java，可以直接使用netty在自定义请求中，返回id。如果是c语言，那么可以复用redis或者nginx的网络模型部分，在里面进行处理。</p><p>而调用方可以简单的遍历节点列表，加简单的重试机制。或者外包给slb或者nginx，调用方直接调用nginx代理的域名去做处理。</p><p>参考：</p><p><a class=link href=https://tech.meituan.com/2017/04/21/mt-leaf.html target=_blank rel=noopener>Leaf——美团点评分布式ID生成系统 - 美团技术团队</a></p><p><a class=link href=https://github.com/Meituan-Dianping/Leaf target=_blank rel=noopener>https://github.com/Meituan-Dianping/Leaf</a></p><p><a class=link href=https://github.com/baidu/uid-generator target=_blank rel=noopener>https://github.com/baidu/uid-generator</a></p></section><footer class=article-footer><section class=article-tags><a href=/tags/%E5%88%86%E5%B8%83%E5%BC%8F/>分布式</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section><section class=article-lastmod><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>最后更新于 2025-11-26</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>相关文章</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/post/algorithm/geohash/><div class=article-details><h2 class=article-title>Geohash</h2></div></a></article><article><a href=/post/base/binary/><div class=article-details><h2 class=article-title>Binary</h2></div></a></article><article class=has-image><a href=/post/tech/distributed/raft/theory/><div class=article-image><img src=http://img.qisihub.cn/post/2024/11/ffef51adc51af216dd8ff2e16ebac9d3.png loading=lazy data-key=theory data-hash=http://img.qisihub.cn/post/2024/11/ffef51adc51af216dd8ff2e16ebac9d3.png></div><div class=article-details><h2 class=article-title>Raft算法理论学习(一)</h2></div></a></article><article><a href=/post/tech/distributed/zookeeper/diff_acceptepoch_currentepoch/><div class=article-details><h2 class=article-title>AcceptEpoch和CurrentEpoch区别</h2></div></a></article><article><a href=/post/tech/lang/threadpoolexecutor/><div class=article-details><h2 class=article-title>ThreadPoolExecutor分析</h2></div></a></article></div></div></aside><a href=#top aria-label="go to top" class=top-link id=top-link style=display:none><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-chevron-up"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 15l6-6 6 6"/></svg>
</a><script src=https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js></script><script type=text/javascript>$(window).scroll(function(){$(this).scrollTop()>300?$("#top-link").show():$("#top-link").hide()})</script><footer class=site-footer><section class=copyright>&copy;
2022 -
2025 起司</section><section class=powerby><img src=/images/beian.png style=width:16px> <a href="https://beian.mps.gov.cn/#/query/webSearch?code=13048102000426" rel=noreferrer target=_blank>冀公网安备13048102000426号</a> <a href=https://beian.miit.gov.cn/ target=_blank>京ICP备2023017017号-2</a><br>使用 <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> 构建<br>主题 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.26.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 设计</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script><script src=/js/tiny-frontend-observer.min.fbb0ff8361cdd6f341e3bc93a066e8a4f2821238ef394b2bcd4987f7cbc45b4e.js></script></body></html>