+++
title = 'æ­å»ºè‡ªå·±çš„åšå®¢'
date = 2024-07-23
draft = false
tags = ['åšå®¢']
categories = ['site']
slug="personsite"
+++

## å»ºç«™æ–¹å¼

é€‰æ‹©å»ºç«™æ–¹å¼ï¼Œæ˜¯ä½¿ç”¨åŠ¨æ€å»ºç«™ï¼ˆå¦‚WordPressã€haloï¼‰ï¼Œè¿˜æ˜¯ä½¿ç”¨é™æ€å»ºç«™ï¼ˆJekyllã€hexoã€hugoï¼‰ã€‚

å‰è€…æ›´åå‘äºä¼ ç»Ÿçš„CMSç®¡ç†ç³»ç»Ÿï¼Œæœ‰åå°ç®¡ç†é¡µé¢ï¼Œå¯ä»¥åœ¨ç®¡ç†é¡µé¢å‘å¸ƒï¼Œä¿®æ”¹æ–‡ç« ã€‚é™¤äº†éœ€è¦æœåŠ¡å™¨ä¹‹å¤–ï¼Œéœ€è¦åŒæ—¶äº†è§£å‰ç«¯ã€åç«¯ã€æ•°æ®åº“ç›¸å…³çš„çŸ¥è¯†ï¼Œå½“ç„¶ç°æœ‰çš„é¡¹ç›®å®Œå…¨å¯ä»¥ç®€å•é…ç½®åå°±å¯ä»¥å¼€ç®±ä½¿ç”¨ã€‚

åè€…ä¸€èˆ¬æ˜¯ä½¿ç”¨å„ç§å¼€æºé¡¹ç›®ï¼Œå°†æ–‡æ¡£è½¬ä¸ºé™æ€èµ„æºï¼ˆhtmlï¼‰ï¼Œéƒ¨ç½²åœ¨æœåŠ¡å™¨æˆ–è€…ä»¥GithubPagesçš„æ–¹å¼ä¾›ä»–äººè®¿é—®ã€‚è€Œä½¿ç”¨å“ªä¸ªå¼€æºé¡¹ç›®è¿›è¡Œå»ºç«™ï¼Œå¯ä»¥å»[Static Site Generators -Jamstack](https://jamstack.org/generators/)é€‰æ‹©ä¸ªäººå–œæ¬¢çš„é¡¹ç›®ï¼Œæœ¬æ–‡ä½¿ç”¨hugoé¡¹ç›®è¿›è¡Œæ­å»ºã€‚

## hugoå®‰è£…å’Œä½¿ç”¨

å‚è€ƒ[hugoä¸­æ–‡å®˜ç½‘](https://hugo.opendocs.io/getting-started/quick-start/)ï¼Œè¿›è¡Œå®‰è£…ï¼Œæˆ‘è¿™é‡Œæ˜¯mac osç³»ç»Ÿï¼Œæ‰€ä»¥ç›´æ¥ä½¿ç”¨` brew install hugo`è¿›è¡Œå®‰è£…ã€‚

ä½¿ç”¨å‘½ä»¤`hugo new site [è·¯å¾„]`åˆ›å»ºé¡¹ç›®æ ¹ç›®å½•ï¼Œæ¯”å¦‚æˆ‘è¿™è¾¹è·¯å¾„æ˜¯/Users/qisi/Research/hugoï¼Œåˆ™ä¼šåœ¨/Users/qisi/Research/hugoç›®å½•ä¸‹åˆ›å»ºä»¥ä¸‹æ–‡ä»¶å¤¹

![](http://picgo.qisiii.asia/post/2024072938213899385d1f11e71816a675ddadec.png)

å…¶ä¸­ï¼Œcontentæ–‡ä»¶å¤¹ç”¨æ¥å­˜å‚¨ä½ çš„æ–‡æ¡£ï¼Œthemesæ–‡ä»¶å¤¹ç”¨æ¥å­˜å‚¨ä½ æƒ³è¦çš„ä¸»é¢˜ï¼Œhugo.tomlæ˜¯æ€»çš„é…ç½®ï¼Œå…¶ä»–çš„åé¢å¯ä»¥è·Ÿç€å®˜ç½‘æ…¢æ…¢ç†Ÿæ‚‰ã€‚

åœ¨[ä¸»é¢˜ç½‘ç«™](https://themes.gohugo.io/themes/)å®‰è£…æƒ³è¦çš„ä¸»é¢˜ï¼Œæˆ‘è¿™é‡Œæ˜¯ä½¿ç”¨çš„stackä¸»é¢˜ï¼Œå¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼å®‰è£…

é€šè¿‡gitå‘½ä»¤ï¼Œåœ¨å½“å‰ç›®å½•æ‰§è¡Œ

```git
git init
git submodule add --depth=1 https://github.com/CaiJimmy/hugo-theme-stack.git themes/hugo-theme-stack
```

æ‰‹åŠ¨å®‰è£…åˆ™æ˜¯è‡ªå·±æ–°å»ºæ–‡ä»¶å¤¹ï¼Œç„¶åclone

```bash
cd themes
mkdir hugo-theme-stack
git clone https://github.com/CaiJimmy/hugo-theme-stack.git
```

å®‰è£…å®Œæˆä¹‹åï¼Œå°†stackä¸»é¢˜çš„é…ç½®å¤åˆ¶ä¸€ä»½åˆ°hugoæ ¹ç›®å½•ï¼Œå¹¶åˆ é™¤hugo.tomlæ–‡ä»¶

` cp themes/hugo-theme-stack/exampleSite/hugo.yaml ./`

æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥æ–°å»ºæ–‡ä»¶ï¼Œä¼šè‡ªåŠ¨åœ¨content/postç›®å½•ä¸‹æ–°å»ºtest.md

`hugo new post/test.md`

æ–‡ä»¶å†…å®¹æ˜¯,draftè¡¨ç¤ºæ˜¯è‰ç¨¿

```toml
+++
title = 'Test'
date = 2024-07-29T14:25:00+08:00
draft = true
+++
## è¿™é‡Œæ˜¯æˆ‘æ‰‹åŠ¨æ·»åŠ çš„å†…å®¹
```

é€šè¿‡`hugo server --buildDrafts `å¯åŠ¨åå°ï¼Œ--buildDrafts è¡¨ç¤ºä¼šç¼–è¯‘draft=trueçš„æ–‡æ¡£ï¼Œé€šè¿‡åœ¨æµè§ˆå™¨è®¿é—®http://localhost:1313æ‰“å¼€ç½‘ç«™ï¼Œé¡µé¢å¦‚å›¾

![](http://picgo.qisiii.asia/post/202407297e4c4da75b240a356d0733d5a61fe2ac.png)

## Github Page

é€šè¿‡hugo serverå·²ç»å¯ä»¥åœ¨æœ¬åœ°ç”µè„‘è¿›è¡Œè®¿é—®äº†ï¼Œä½†å¦‚æœæƒ³è¦é€šè¿‡äº’è”ç½‘è®¿é—®ï¼Œåˆ™éœ€è¦è¿›è¡Œé¢å¤–çš„è®¾ç½®ã€‚

å¦‚æœæ‹¥æœ‰è‡ªå·±çš„æœåŠ¡å™¨ï¼Œå¯ä»¥åœ¨æœåŠ¡å™¨ä¸Šå¯åŠ¨hugoï¼Œç„¶åä½¿ç”¨nginxç›‘å¬å¹¶è½¬å‘åˆ°publicç›®å½•ï¼›ä½†å¦‚æœæ²¡æœ‰æœåŠ¡å™¨ï¼Œåˆ™å¯ä»¥é€šè¿‡[Github Page]([https://pages.github.com/](https://pages.github.com/))åŠŸèƒ½æ¥æ‰˜ç®¡è‡ªå·±çš„é¡¹ç›®ã€‚

é¦–å…ˆéœ€è¦åˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼Œé¡¹ç›®åç§°ä»¥github.ioç»“å°¾ï¼Œå‰ç¼€ä¸€èˆ¬ç”¨è‡ªå·±çš„ç”¨æˆ·åæˆ–è€…æœ‰æ ‡è¯†çš„å•è¯

![](http://picgo.qisiii.asia/post/202407290cafabcbc2855b8990127a750aa7b8e1.png)

å°†hugoé¡¹ç›®çš„publicæ–‡ä»¶å¤¹ä½œä¸ºä¸€ä¸ªgité¡¹ç›®ï¼Œæ¨é€åˆ°åˆšæ–°å»ºçš„è¿™ä¸ªRepositoryä¸­

```
cd public
git init
git add .
git commit -am é¦–æ¬¡commit
git remote add origin git@github.com:qisiii/qisiii.github.io.git 
git push --set-upstream origin master
```

åœ¨setting-pagesä¸‹è¿›è¡Œä¸€äº›è®¾ç½®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¿å­˜åå°±å¯ä»¥é€šè¿‡[å…³é”®è¯].github.ioæ¥è®¿é—®äº†

![](http://picgo.qisiii.asia/post/20240729c3ac3627f8d52fc949f594f3c6e4effe.png)

å¦‚æœæƒ³è¦æ›´ä¸ªæ€§åŒ–çš„åŸŸåï¼Œåˆ™éœ€è¦è´­ä¹°ä¸€ä¸ªåŸŸåï¼Œæ·»åŠ ä¸€ä¸ªcnameç±»å‹çš„è§£æï¼ŒåŒæ—¶åœ¨ä¸Šå›¾Custom domainçš„æ–‡æœ¬æ¡†ä¸­å¡«å…¥å¯¹åº”çš„åŸŸåï¼Œè¿™æ ·å­å°±å¯ä»¥ä»¥è‡ªå·±çš„åŸŸåè®¿é—®äº†ã€‚

## Markdownå·¥å…·

å¸‚é¢ä¸Šçš„markdownå·¥å…·è¿˜æ˜¯è›®å¤šçš„ï¼Œå„ç§å¼€å‘ç”¨çš„ideï¼Œæˆ–è€…ä¸“é—¨ç”¨äºmarkdownçš„ç¼–è¾‘å™¨ã€‚æˆ‘ä½¿ç”¨çš„æ˜¯MarkText([GitHub - marktext/marktext: ğŸ“A simple and elegant markdown editor, available for Linux, macOS and Windows.](https://github.com/marktext/marktext))ï¼Œå»ºè®®ç›´æ¥å®‰è£…[ä¸­æ–‡ç‰ˆmarkText](https://marktext.weero.net/)ã€‚

MarkTextçš„å›¾åºŠåŠŸèƒ½å­˜åœ¨bugï¼š

### uploaderä¸ºgithubæ—¶ä¸Šä¼ å¤±è´¥

åŸå› æ˜¯GithubApiè¦æ±‚contentæ˜¯base64æ ¼å¼çš„ï¼Œæ‰€ä»¥éœ€è¦é¢å¤–åšä¸€ä¸‹å¤„ç†ï¼Œå‚è€ƒ[pr](https://github.com/marktext/marktext/pull/3589)

![](http://picgo.qisiii.asia/post/30-00-10-06-image.png)

### æ— æ³•ä¸Šä¼ å‰ªè´´æ¿çš„å›¾ç‰‡

å…¶ä¸­ï¼Œæ— æ³•ä¸Šä¼ å‰ªè´´æ¿å›¾ç‰‡çš„bugæ˜¯ç”±äºé¡¹ç›®ä¸­fileSystem.jsä¸­path.joinæ–¹æ³•å‚æ•°ç±»å‹é”™è¯¯å¯¼è‡´çš„ï¼›å‚è€ƒ[Fix Failure when uploading clipboard images with PicGo ï¼ˆ#3360ï¼‰ by Jakentop Â· Pull Request #3366 Â· marktext/marktext Â· GitHub](https://github.com/marktext/marktext/pull/3366)

![](http://picgo.qisiii.asia/post/30-00-06-41-image.png)

### æ— æ³•æ£€æµ‹åˆ°picgoå­˜åœ¨

è¿™ä¸ªå¯èƒ½æ˜¯ç”±äºenvçš„è·¯å¾„å¹¶ä¸åŒ…å«picgoæ‰€åœ¨çš„è·¯å¾„ï¼Œåœ¨env.jsæœ‰ä¸€æ®µé€»è¾‘æ˜¯è¿™æ ·çš„

```js
const patchEnvPath = () => {
  if (process.platform === 'darwin') {
    process.env.PATH += (process.env.PATH.endsWith(path.delimiter) ? '' : path.delimiter) + '/Library/TeX/texbin:/opt/homebrew/bin:/usr/local/bin'
  }
}
```

ä¿®æ”¹ä¸ºä¸‹é¢è¿™æ ·ï¼Œæˆ‘æ˜¯ç”¨yarn å®‰è£…çš„picgoï¼Œè·¯å¾„åœ¨/opt/homebrew/bin ä¸‹é¢ï¼Œæˆ‘ä¸ºäº†çœäº‹ï¼Œå°±å°†/opt/homebrew/binå’Œ/usr/local/binéƒ½è¿½åŠ åœ¨åé¢äº†

```js
const patchEnvPath = () => {
  if (process.platform === 'darwin')
  {
    process.env.PATH += (process.env.PATH.endsWith(path.delimiter) ? '' : path.delimiter) + '/Library/TeX/texbin:/opt/homebrew/bin:/usr/local/bin'
  }
}
```

ä¿®æ”¹å®Œä¹‹åæ‰“åŒ…ä¼šæ˜¯ä¸‹é¢è¿™æ ·ï¼Œå°±èƒ½è¯†åˆ«åˆ°picgoäº†

![](http://picgo.qisiii.asia/post/1723657557974.jpg)

ä½†æ˜¯å¯èƒ½ä¾ç„¶ä¼šå­˜åœ¨ä¸Šä¼ æˆªå›¾å¤±è´¥çš„æƒ…å†µï¼Œè¿™ç§åœºæ™¯ä¸‹æ˜¯æ‰¾ä¸åˆ°nodeï¼Œå¯ä»¥è‡ªå·±ç»™nodeå»ºç«‹ä¸€ä¸ªè½¯è¿æ¥åˆ°/usr/local/binä¸‹ï¼Œæ¯”å¦‚æˆ‘è¿™è¾¹æ˜¯nvmç®¡ç†çš„node 18ï¼Œé€šè¿‡`ln -s /Users/hkc/.nvm/versions/node/v18.15.0/bin/node /usr/local/bin/node` å»ºç«‹è½¯é“¾æ¥

![](http://picgo.qisiii.asia/post/1723657486782.jpg)

## å‚è€ƒåšå®¢ï¼š

[ä¸ªäººç½‘ç«™çš„å»ºç«‹è¿‡ç¨‹ï¼ˆäºŒï¼‰ï¼šä½¿ç”¨Hugoæ¡†æ¶æ­å»ºä¸ªäººç½‘ç«™](https://jinli.io/p/%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99%E7%9A%84%E5%BB%BA%E7%AB%8B%E8%BF%87%E7%A8%8B%E4%BA%8C%E4%BD%BF%E7%94%A8hugo%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99/)

[ä¸ªäººç½‘ç«™çš„å»ºç«‹è¿‡ç¨‹ï¼ˆäºŒï¼‰ï¼šä½¿ç”¨Hugoæ¡†æ¶æ­å»ºä¸ªäººç½‘ç«™](https://jinli.io/p/%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99%E7%9A%84%E5%BB%BA%E7%AB%8B%E8%BF%87%E7%A8%8B%E4%BA%8C%E4%BD%BF%E7%94%A8hugo%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99/)
