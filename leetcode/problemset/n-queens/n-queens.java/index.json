{"title":"N 皇后 (N-Queens)","permalink":"https://www.qisihub.cn/leetcode/problemset/n-queens/n-queens.java/","date":"0001-01-01T00:00:00Z","content":"思路: // @Title: N 皇后 (N-Queens) // @Author: qisiii // @Date: 2024-09-21 17:56:11 // @Runtime: 2 ms // @Memory: 43.9 MB // @comment: // @flag: class Solution { public List\u0026lt;List\u0026lt;String\u0026gt;\u0026gt; solveNQueens(int n) { char[][] matrix = new char[n][n]; for (char[] row : matrix) { Arrays.fill(row, \u0026#39;.\u0026#39;); } List\u0026lt;List\u0026lt;String\u0026gt;\u0026gt; result = new ArrayList\u0026lt;\u0026gt;(); dfs(result, matrix, n, 0); return result; } private void dfs(List\u0026lt;List\u0026lt;String\u0026gt;\u0026gt; result, char[][] matrix, int n, int row) { if (row == n) { List\u0026lt;String\u0026gt; temp = new ArrayList\u0026lt;\u0026gt;(); for (int i = 0; i \u0026lt; n; i++) { StringBuilder sb = new StringBuilder(); for (int j = 0; j \u0026lt; n; j++) { sb.append(matrix[i][j]); } temp.add(sb.toString()); } result.add(temp); return; } for (int j = 0; j \u0026lt; n; j++) { if (isValid(row, j,matrix)) { matrix[row][j] = \u0026#39;Q\u0026#39;; dfs(result, matrix, n, row + 1); matrix[row][j] = \u0026#39;.\u0026#39;; } } } private boolean isValid(int row, int column, char[][] matrix) { for (int j = 0; j \u0026lt; row; j++) { if (matrix[j][column] == \u0026#39;Q\u0026#39;) { return false; } } for (int i = row - 1, j = column - 1; i \u0026gt;= 0 \u0026amp;\u0026amp; j \u0026gt;= 0; i--, j--) { if (matrix[i][j] == \u0026#39;Q\u0026#39;) { return false; } } for (int i = row - 1, j = column + 1; i \u0026gt;= 0 \u0026amp;\u0026amp; j \u0026lt; matrix.length; i--, j++) { if (matrix[i][j] == \u0026#39;Q\u0026#39;) { return false; } } return true; } } "}